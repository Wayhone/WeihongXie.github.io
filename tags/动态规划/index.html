<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Weihong Xie&#39;s Blogs</title>
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url(/assets/bg.jpg)">
        <div class='av-pic' style="background-image: url(/assets/Bella.png)">
        </div>
    </section>
    <section class='menu'>
        <div>Weihong Xie&#39;s Blogs</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
            
                <a target="_blank" rel="noopener" href="https://github.com/WeihongXie">
                    <img src="/assets/github.svg" />
                </a>
            
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <ul class="Index">
  
    <header class='PageTitle'>
        <h1>{ 动态规划 }</h1>
    </header>
  
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/07/07/Dynamic%20Programming/">动态规划 解题思路以及常见类型归纳总结</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-07-06T16:00:00.000Z" itemprop="datePublished">
    2021-07-07
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <h1 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h1><p><strong>动态规划Dynamic Programming</strong>是运筹学的一个分支，是求解决策过程最优化的过程。各个阶段的决策构成一个决策序列，称为一个策略。每一个阶段都有若干个决策可供选择，因而产生许多策略供选取。多阶段决策问题，就是要在可以选择的策略中，选取一个最优策略，使在预定的标准下达到最好的效果。</p>
<p><strong>求解动态规划的核心问题是穷举</strong>。不过，动态规划相比于暴力穷举/回溯算法，消除了重叠子问题，因此更快。可以看作是穷举+剪枝的结合。</p>
<p>动态规划的三个特点：</p>
<ul>
<li>存在重叠子问题</li>
<li>具备“最优子结构”</li>
<li>存在状态转移方程</li>
</ul>
<hr>
<h2 id="一般的解题思路"><a href="#一般的解题思路" class="headerlink" title="一般的解题思路"></a>一般的解题思路</h2><p>在解决动态规划问题时，一定要思考以下问题：</p>
<ol>
<li>问题的最简单情况base case是什么？</li>
<li>问题一共有什么状态？</li>
<li>每个状态可以做出什么选择？</li>
<li>如何定义函数来表现状态和选择？</li>
</ol>
<p><strong>基本的DP思路</strong></p>
<ol>
<li>一般使用DP Table来记录子问题的最优决策。首先要定义<code>dp[i][j]</code>，一般<code>dp[M][N]</code>会是题目所求的答案。同时注意dp的边界问题；</li>
<li>定义Base Case。 一般是<code>dp[0][0]</code>或者是<code>dp[0][...], dp[...][0]</code>；</li>
<li>寻找<code>dp[i][j]</code>的状态转移方程。 考虑一下到达<code>dp[i][j]</code>的上一步操作是什么，一般从<code>dp[i][j-1], dp[i-1][j], dp[i-1][j-1]</code>入手。</li>
</ol>
<p>进阶思路：</p>
<ol>
<li>最优子结构性值作为动态规划问题的必要条件，一定是求最值；</li>
<li>dp数组的遍历方向。有时是正向遍历，有时是反向遍历，有时是斜向遍历。<strong>遍历过程中，所需的状态是必须已经计算出来的；而且遍历终点必须是存储结果的位置</strong>。因此，遍历的方向应该是从base case到所求答案的方向。典型例子：174. Dungeon Game 反向遍历。</li>
</ol>
<hr>
<h2 id="常见的动态规划类型"><a href="#常见的动态规划类型" class="headerlink" title="常见的动态规划类型"></a>常见的动态规划类型</h2><ol>
<li>单数组的子序列问题 如: Longest Palindrome Subsequence/Substring</li>
<li>双数组的比较问题 如: Edit Distance, Longest Common Subsequence</li>
<li>二维矩阵的最值 如: Unique Paths I/II</li>
<li>Fibonacci类的递推问题 如: House Robber, Jump Game</li>
<li>背包问题 如: Target Sum</li>
</ol>
<p>无论什么类型，DP无非要解决三个问题：<strong>dp状态定义，Base Case，状态转移方程</strong></p>
<hr>
<h2 id="经典动态规划：子序列问题"><a href="#经典动态规划：子序列问题" class="headerlink" title="经典动态规划：子序列问题"></a>经典动态规划：子序列问题</h2><p>以<a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-palindromic-subsequence/">516. Longest Palindromic Subsequence/Medium</a>为例。</p>
<ul>
<li><code>dp[i][j]</code>定义为字符串<code>s[i:j]</code>的最长回文子序列长度（或其他答案）；</li>
<li>Base Case是<code>dp[k][k] = 1</code>；</li>
<li>状态转移：<code>dp[i][j]</code>从<code>dp[i+1][j-1]</code>，或者<code>dp[i+1][j]</code>和<code>dp[i][j-1]</code>中求得；</li>
<li>最终所求为<code>dp[0][n-1]</code>.</li>
</ul>
<p>注意这类题目的遍历方向，从<code>dp[i][i]</code>出发到<code>dp[0][n-1]</code>，方向应该是从下到上、从左到右。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">longestPalindromeSubseq</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">dp</span><span class="params">(s.length(), <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">int</span> len = s.<span class="built_in">length</span>(), pre, tmp;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    for (int i = len - 1; i &gt;= 0; i--)&#123;</span></span><br><span class="line"><span class="comment">        dp[i][i] = 1;</span></span><br><span class="line"><span class="comment">        for (int j = i + 1; j &lt; len; j++) &#123;</span></span><br><span class="line"><span class="comment">            if (s[i] == s[j])</span></span><br><span class="line"><span class="comment">                dp[i][j] = 2 + dp[i+1][j-1];</span></span><br><span class="line"><span class="comment">            else</span></span><br><span class="line"><span class="comment">                dp[i][j] = max(dp[i+1][j], dp[i][j-1]);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    return dp[0][len-1];</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">        dp[i] = <span class="number">1</span>;</span><br><span class="line">        pre = <span class="number">0</span>; <span class="comment">// pre = dp[i+1][j-1];</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">            tmp = dp[j]; <span class="comment">// tmp = dp[i+1][j]</span></span><br><span class="line">            <span class="keyword">if</span> (s[j] == s[i]) </span><br><span class="line">                dp[j] = pre + <span class="number">2</span>;     </span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                dp[j] = <span class="built_in">max</span>(dp[j], dp[j<span class="number">-1</span>]);   </span><br><span class="line">            pre = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[len - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其他同框架的题目：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-palindromic-substring/">5. Longest Palindromic Substring/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-insertion-steps-to-make-a-string-palindrome/">1312. Minimum Insertion Steps to Make a String Palindrome/Hard</a>  </li>
</ul>
<p>To do:   </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/palindromic-substrings/">647. Palindrome Substring/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/shortest-palindrome/">214. Shortest Palindrome/Hard</a> KMP算法</li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/shortest-palindrome/">336. Palindrome pair/Hard</a> Trie 字典树/单词查找树</li>
</ul>
<hr>
<p>(以下解题思路待更新)</p>
<h2 id="经典动态规划：双数组的比较问题"><a href="#经典动态规划：双数组的比较问题" class="headerlink" title="经典动态规划：双数组的比较问题"></a>经典动态规划：双数组的比较问题</h2><p>有代表性的两题：  </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/edit-distance/">72. Edit Distance/Hard</a>  </li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-common-subsequence/">1143. Longest Common Subsequence/Medium</a></li>
</ul>
<p>挑战性</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/wildcard-matching/">44. Wildcard Matching/Hard</a>  </li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/submissions/detail/511529153/">87. Scramble String/Hard 记录多状态</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/distinct-subsequences/">115. Distinct Subsequences/Hard 确定状态转移</a></li>
</ul>
<p>基础</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/interleaving-string/submissions/">97. Interleaving String/Medium</a></li>
</ul>
<hr>
<h2 id="经典动态规划：二维矩阵的最值"><a href="#经典动态规划：二维矩阵的最值" class="headerlink" title="经典动态规划：二维矩阵的最值"></a>经典动态规划：二维矩阵的最值</h2><p>求路径：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/unique-paths/">62. Unique Paths/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/unique-paths-ii/">63. Unique Paths II/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-path-sum/">64. Minimum Path Sum/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/triangle/">120. Triangle/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/dungeon-game/">174. Dungeon Game/Hard</a> 逆向推导</li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/out-of-boundary-paths/">576. Out of Boundary Paths/Medium</a></li>
</ul>
<p>求矩阵：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/trapping-rain-water/">42. Trapping Rain Water/Hard</a> 经典接雨水</li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/max-sum-of-rectangle-no-larger-than-k/">363. Max Sum of Rectangle No Larger Than K/Hard</a> 枚举上下边界+前缀和</li>
</ul>
<hr>
<h2 id="经典动态规划：递推类"><a href="#经典动态规划：递推类" class="headerlink" title="经典动态规划：递推类"></a>经典动态规划：递推类</h2><p>这里选择一些比较有意思的系列题目进行分类。</p>
<p>House Robber</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/house-robber/">198. House Robber/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/house-robber-ii/">213. House Robber II/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/house-robber-iii/">337. House Robber III/Medium</a></li>
</ul>
<p>Jump Game  </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/jump-game/">55. Jump Game/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/jump-game-ii/">45. Jump Game II/Medium</a></li>
</ul>
<p>Best Time to Buy and Sell Stock</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock/">121. Best Time to Buy and Sell Stock/Easy</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/">122. Best Time to Buy and Sell Stock II/Easy</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/">123. Best Time to Buy and Sell Stock III/Hard</a></li>
</ul>
<p>Regular Expression Matching 正则表达式匹配</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/regular-expression-matching/">10. Regular Expression Matching/Hard</a></li>
</ul>
<p>Egg Drop 过于经典，牢记</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/super-egg-drop/">887. Super Egg Drop/Hard</a></li>
</ul>
<p>LIS 最长递增子序列，DP很直观，但是二分搜索效率高很多</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-increasing-subsequence/">300. Longest Increasing Subsequence/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/russian-doll-envelopes/">354. Russian Doll Envelopes/Hard</a></li>
</ul>
<p>其他基础：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/climbing-stairs/">70. Climbing Stairs/Easy</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/decode-ways/">91. Decode Ways/Medium</a> </li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/unique-binary-search-trees/">96. Unique Binary Search Trees/Medium</a> 数学归纳</li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/unique-binary-search-trees-ii/">95. Unique Binary Search Trees II/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/maximum-product-subarray/">152. Maximum Product Subarray/Medium</a> 分别存储最大最小值以应对乘积变大/变小</li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/submissions/detail/515928702/">279. Perfect Squares/Medium</a> BFS/DP均可</li>
</ul>
<hr>
<h2 id="经典动态规划：背包问题"><a href="#经典动态规划：背包问题" class="headerlink" title="经典动态规划：背包问题"></a>经典动态规划：背包问题</h2><p>背包问题的特点：取或不取。由于太过经典且重要，另开一篇。</p>
<p><strong>01背包问题</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/partition-equal-subset-sum/">416. Partition Equal Subset Sum/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/target-sum/">494. Target Sum/Medium</a> Same as 416</li>
</ul>
<p>Word Break</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/word-break/">139. Word Break/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/word-break-ii/">140. Word Break II/Hard</a></li>
</ul>
<p><strong>完全背包问题</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/combination-sum-iv/">377. Combination Sum IV/Medium</a></li>
</ul>
<p>Coin Change </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/coin-change/submissions/">322. Coin Change/Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/coin-change-2/">518. Coin Change 2/Medium</a></li>
</ul>
<hr>

      
    </div>
</article>

    </li>
  
</ul>



            <footer>
    <div>© 2021 - Weihong Xie </div>
    <div>
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            Theme - <a target="_blank" rel="noopener" href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

        </div>
    </div>
</div>

<script src="/js/pager/dist/singlepager.js"></script>

<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>